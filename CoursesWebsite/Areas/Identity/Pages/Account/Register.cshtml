

@page
@model CoursesWebsite.Areas.Identity.Pages.Account.RegisterModel
@{
    ViewData["Title"] = "Register";
}

<h1 class="text-center mb-4">@ViewData["Title"]</h1>

<div class="row justify-content-around">
    
    <div class="col-md-6 col-lg-4">
        <form method="post" enctype="multipart/form-data">
            @Html.AntiForgeryToken()
            <h2 class="mb-4">Create a new account</h2>
            <hr />
            <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

            <!-- Name Field -->
            <div class="form-floating mb-3">
                <input asp-for="Input.Name" class="form-control" placeholder="Name" aria-label="Name" />
                <label asp-for="Input.Name">Name</label>
                <span asp-validation-for="Input.Name" class="text-danger"></span>
            </div>

            <!-- Email Field -->
            <div class="form-floating mb-3">
                <input asp-for="Input.Email" class="form-control" placeholder="Email" aria-label="Email" />
                <label asp-for="Input.Email">Email</label>
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            <!-- Password Field -->
            <div class="form-floating mb-3">
                <input asp-for="Input.Password" class="form-control" type="password" placeholder="Password" aria-label="Password" />
                <label asp-for="Input.Password">Password</label>
                <span asp-validation-for="Input.Password" class="text-danger"></span>
            </div>

            <!-- Confirm Password Field -->
            <div class="form-floating mb-3">
                <input asp-for="Input.ConfirmPassword" class="form-control" type="password" placeholder="Confirm Password" aria-label="Confirm Password" />
                <label asp-for="Input.ConfirmPassword">Confirm Password</label>
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
            </div>

            <!-- Phone Number Field -->
            <div class="form-floating mb-3">
                <input asp-for="Input.PhoneNumber" class="form-control" placeholder="Phone Number" aria-label="Phone Number" />
                <label asp-for="Input.PhoneNumber">Phone Number</label>
                <span asp-validation-for="Input.PhoneNumber" class="text-danger"></span>
            </div>

            <!-- Profile Picture Upload and Preview -->
            <div class="mb-3">
                <input asp-for="Input.ImageFile" class="form-control" type="file" accept="image/*" id="imageUpload" onchange="showImagePreview(event)" aria-label="Profile Picture" />
                <span asp-validation-for="Input.ImageFile" class="text-danger"></span>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-dark rounded-2 w-100">Register</button>
        </form>
    </div>

    <!-- Image Preview -->
    <div class="col-md-4 text-center mb-3 mt-5">
        <img id="imagePreview" class="img-thumbnail" style="display:none; width:350px; height:350px;" alt="Image Preview" />
    </div>

</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        function showImagePreview(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const preview = document.getElementById('imagePreview');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }
    </script>
}

<style>
    body {
        background-color: #f8f9fa;
    }

    .form-control {
        border-radius: 0.25rem;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

    .img-thumbnail {
        border-radius: 50%;
    }
</style>
